var emailField=document.getElementById("email-address"),confirmEmailField=document.getElementById("confirm-email-address");function validateEmail(){emailField.value.trim()!=confirmEmailField.value.trim()?confirmEmailField.setCustomValidity("Please enter the same email address again."):confirmEmailField.setCustomValidity(""),emailField.validity.typeMismatch?emailField.setCustomValidity("Please enter a valid email address."):emailField.setCustomValidity(""),emailField.validity.patternMismatch?emailField.setCustomValidity("Please enter no more than 128 characters."):emailField.setCustomValidity("")}function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:"en"},"google_translate_element")}function runTranslate(n){console.log(n);var o=new Date;function l(e){(document.getElementsByTagName("head")[0]||document.body.parentNode.appendChild(document.createElement("head"))).appendChild(e)}window.addEventListener&&void 0===document.readyState&&window.addEventListener("DOMContentLoaded",function(){document.readyState="complete"},!1),function(e){e=e.split(".");for(var t=window,a=0;a<e.length;++a)if(!(t=t[e[a]]))return;return 1}("google.translate.Element")||function(){var e;(e=function(e){e=e.split(".");for(var t=window,a=0;a<e.length;++a)t=t.hasOwnProperty?t.hasOwnProperty(e[a])?t[e[a]]:t[e[a]]={}:t[e[a]]||(t[e[a]]={});return t}("google.translate._const"))._cest=o,e._cl="en",e._cuc="googleTranslateElementInit",e._cac="",e._cam="",e._ctkk="433134.2056255327";var t,a="https://",i=a+(t="translate.googleapis.com");e._pah=t,e._pas=a,e._pbi=i+"/translate_static/img/te_bk.gif",e._pci=i+"/translate_static/img/te_ctrl3.gif",e._pli=i+"/translate_static/img/loading.gif",e._plla=t+"/translate_a/l",e._pmi=i+"/translate_static/img/mini_google.png",e._ps=i+"/translate_static/css/translateelement.css",e._puh="CN"==n?"translate.google.cn":"translate.google.com",t=e._ps,(e=document.createElement("link")).type="text/css",e.rel="stylesheet",e.charset="UTF-8",e.href=t,l(e),e=i+"/translate_static/js/element/main.js",(i=document.createElement("script")).type="text/javascript",i.charset="UTF-8",i.src=e,l(i)}()}emailField.onchange=validateEmail,confirmEmailField.oninput=validateEmail,$(function(){var a,i="Please enter no more than 60000 characters.";function n(){var e=!1;return window.PointerEvent&&"maxTouchPoints"in navigator?0<navigator.maxTouchPoints&&(e=!0):(window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches||window.TouchEvent||"ontouchstart"in window)&&(e=!0),e}$(document).find("textarea").on("input change propertychange",function(){var e,t=$(this).attr("pattern");void 0!==t&&!1!==t&&(e=new RegExp("^"+t.replace(/^\^|\$$/g,"")+"$","g"),t=$(this).val().replace(/[\r\n]+/gm,""),a=!t.match(e),"function"==typeof this.setCustomValidity?this.setCustomValidity(a?i:""):($(this).toggleClass("error",!!a),$(this).toggleClass("ok",!a),a?$(this).attr("title",i):$(this).removeAttr("title")))});var o=[];n()||$(".select select").each(function(){o[this.id]=new SlimSelect({select:"#"+this.id,placeholder:"Choose one..."})}),$(".is-multiple select").each(function(){o[this.id]=new SlimSelect({select:"#"+this.id,placeholder:"Choose many..."})}),$("#register").on("submit",function(e){e.preventDefault(),$("[name='nonce']").length||$("<input>").attr("type","hidden").attr("name","nonce").attr("value",formToken).appendTo("#register");e=new FormData(e.target);$(".button-register").addClass("is-loading");var t=$(this).find("input, select, button, textarea");return t.prop("disabled",!0),axios.post($(this).attr("action"),e).then(function(e){var t=$("#form-container"),a=$("#webinar-success"),i=$("a.join-url"),n=0<(o=$(".webinar-date-mobile")).offsetWidth&&0<o.offsetHeight?$(".webinar-date-mobile"):$(".webinar-date-desktop"),o=$(n,".webinar-times li:first");i.attr("href",e.data.join_url),i.html(e.data.join_url),o.length?$(".webinar-join-date").html("<strong>Date:</strong> "+o.clone().text()):$(".webinar-join-date").html("<strong>Date:</strong> "+$(n,"p").clone().text()),$("#form-error").hide(),t.addClass("is-hidden"),a.removeClass("is-hidden")}).catch(function(e){var t=$("#form-error");void 0!==e.response.data&&e.response.data.code&&(t.html('Sorry, there was an error with your registration. Please contact <a href="mailto:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#099;&#121;&#098;&#101;&#114;&#115;&#105;&#103;&#104;&#116;&#046;&#111;&#114;&#103;">support@cybersight.org</a> for help.'),t.removeClass("is-hidden"),t[0].scrollIntoView())}).then(function(){t.prop("disabled",!1),$(".button-register").removeClass("is-loading")}),!1}),$(".timezone-switcher").on("click",function(e){e.preventDefault(),$("#timezone-modal").addClass("is-active"),$("html").addClass("is-clipped")}),$(".modal-cancel").on("click",function(e){e.preventDefault(),$("#timezone-modal").removeClass("is-active"),$("html").removeClass("is-clipped")}),$("#switch-timezone").on("click",function(e){e.preventDefault();var t=(t=window.location.pathname).substring(0,t.indexOf("tz/")),e=n()?$("#switch-time-zone").val():o["switch-time-zone"].selected();window.location.pathname=t?t+"tz/"+e:window.location.pathname+"/tz/"+e})}),$(function(){var e,a;e="https://"+window.location.hostname+"/cdn-cgi/trace",a=[],axios.get(e).then(function(e){var t;e.data.split("\n").forEach(function(e){t=e.split("="),a[t[0]]=decodeURIComponent(t[1]||"")}),runTranslate("loc"in a?a.loc:"US")})}),$(function(){var e=$("#register input[type=text]");e.on("invalid",function(){$(this).get(0).validity.valueMissing?$(this).get(0).setCustomValidity("Please fill out this field."):$(this).get(0).setCustomValidity("Please enter no more than 128 characters.")}),e.on("input, change",function(){$(this).get(0).setCustomValidity("")})});